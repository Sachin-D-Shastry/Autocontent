{% load static %}
<!DOCTYPE html>
<html>
<head>
    <title>{% block title %}AutoContent{% endblock %}</title>
    <link rel="stylesheet" href="{% static 'css/base.css' %}?v=123">
    <link rel="icon" href="{% static 'favicon.ico' %}" type="image/x-icon">
    {% block extra_css %}{% endblock %}
    <script>
  document.addEventListener("DOMContentLoaded", function () {
    setTimeout(function () {
      document.getElementById("loader").style.display = "none";
    }, 1000); 
  });
</script>


</head>
<body>
  
    <div id="loader" style="
  position: fixed;
  width: 100%;
  height: 100%;
  background: white;
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: 2rem;
  z-index: 9999;
">
  Loading...
</div>
    <div class="navbar">
        <a href="{% url 'workflow' %}" class="logo">AutoContent</a>
        <div class="nav-links">
            <a href="{% url 'recents' %}">Recents</a>
            <a href="{% url 'generate' %}">Word Search</a>
            <a href="{% url 'generate_from_image' %}">Image Search</a>
            <a href="{% url 'logout' %}">Logout</a>
        </div>
    </div>
    <div class="container">
        {% block content %}
        {% endblock %}
    </div>
    <script>
  document.addEventListener("DOMContentLoaded", function () {
    const toggle = document.getElementById('toggle-theme');
    const prefersDark = window.matchMedia('(prefers-color-scheme: dark)').matches;
    const storedTheme = localStorage.getItem('theme');

    if (storedTheme === 'dark' || (!storedTheme && prefersDark)) {
      document.body.classList.add('dark');
    }

    toggle.addEventListener('click', () => {
      document.body.classList.toggle('dark');
      const theme = document.body.classList.contains('dark') ? 'dark' : 'light';
      localStorage.setItem('theme', theme);
    });
  });
</script>

</body>
</html>
